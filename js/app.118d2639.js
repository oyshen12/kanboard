(function(){"use strict";var n={9077:function(n,e,t){var o=t(9242),i=t(3396);function r(n,e,t,o,r,s){const a=(0,i.up)("Kanban");return(0,i.wg)(),(0,i.j4)(a)}const s={class:"kanban"};function a(n,e,t,o,r,a){const d=(0,i.up)("DraggableColumn");return(0,i.wg)(),(0,i.iD)("div",s,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.columns,(n=>((0,i.wg)(),(0,i.j4)(d,{key:n.id,column:n},null,8,["column"])))),128))])}var d=t(7139);const l=["id"],c={class:"column__info"},u={class:"column__info-amount"},m={class:"column__tasks-wrap"},p={class:"column__tasks"};function g(n,e,t,o,r,s){const a=(0,i.up)("Task");return(0,i.wg)(),(0,i.iD)("div",{class:"column dropzone",id:n.column.id},[(0,i._)("div",c,[(0,i._)("div",null,(0,d.zw)(n.column.name),1),(0,i._)("div",u,(0,d.zw)(n.column.tasks.length),1)]),(0,i._)("div",m,[(0,i._)("div",p,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(n.column.tasks,(n=>((0,i.wg)(),(0,i.j4)(a,{key:n.id,task:n},null,8,["task"])))),128))]),(0,i._)("div",{class:(0,d.C_)([{active:n.dropColumnActive,activeHover:n.hoverColumnId===n.column.id},"column__tasks-droppable dropzone"])},null,2)])],8,l)}const v=n=>((0,i.dD)("data-v-b8d17208"),n=n(),(0,i.Cn)(),n),f=["id"],b={class:"task__name"},k={class:"task__info"},_={class:"d-flex"},y=v((()=>(0,i._)("div",{class:"task__info-img"},null,-1))),h={class:"task__info-name"};function I(n,e,t,o,r,s){return(0,i.wg)(),(0,i.iD)("div",{class:"task draggable",id:n.task.id},[(0,i._)("div",b,(0,d.zw)(n.task.description),1),(0,i._)("div",k,[(0,i._)("div",_,[y,(0,i._)("div",h,(0,d.zw)(n.task.name),1)]),(0,i._)("div",{class:(0,d.C_)(["task__info-priority",n.task.priority])},null,2)])],8,f)}var w=(0,i.aZ)({name:"TaskKanboard",props:{task:{type:Object,required:!0}}}),C=t(89);const D=(0,C.Z)(w,[["render",I],["__scopeId","data-v-b8d17208"]]);var x=D,S=t(65);const B={columns:[{id:0,name:"Selected for development",tasks:[{id:0,name:"BS-161",description:"Description",priority:"high"},{id:1,name:"BS-162",description:"Description",priority:"low"},{id:2,name:"BS-163",description:"Description",priority:"medium"}]},{id:1,name:"Suspended",tasks:[{id:3,name:"BS-164",description:"Description",priority:"high"},{id:4,name:"BS-165",description:"Description",priority:"low"},{id:5,name:"BS-166",description:"Description",priority:"medium"}]},{id:2,name:"In work",tasks:[{id:6,name:"BS-167",description:"Description",priority:"low"},{id:7,name:"BS-168",description:"Description",priority:"medium"},{id:8,name:"BS-169",description:"Description",priority:"low"}]},{id:3,name:"Ready",tasks:[{id:9,name:"BS-170",description:"Description",priority:"medium"},{id:10,name:"BS-171",description:"Description",priority:"low"},{id:11,name:"BS-172",description:"Description",priority:"high"}]}],draggableTaskId:-1,draggableColumnId:-1,hoverColumnId:-1};var T={tasks(n){return n.columns.reduce(((n,e)=>n.concat(e.tasks)),[])}},O=(t(7658),{setDraggableTaskId(n,e){n.draggableTaskId=e},transferTask(n,e){let t=-1;const o=n.columns.findIndex((e=>{const o=e.tasks.findIndex((e=>e.id===n.draggableTaskId));if(-1!==o)return t=o,!0})),i=n.columns.findIndex((n=>n.id===e));if(-1!==t&&-1!==o&&-1!==i&&o!==i){const[e]=n.columns[o].tasks.splice(t,1);n.columns[i].tasks.push(e),n.draggableColumnId=-1,n.draggableTaskId=-1}},setDraggableColumnId(n,e){n.draggableColumnId=e},clearDraggbleInfo(n){n.draggableColumnId=-1,n.draggableTaskId=-1,n.hoverColumnId=-1},setHoverColumnId(n,e){n.hoverColumnId=e}}),j={};const z=Symbol(),Z=(0,S.MT)({state:B,getters:T,mutations:O,actions:j});var E=(0,i.aZ)({name:"DraggbleColumn",components:{Task:x},props:{column:{type:Object,required:!0}},setup(n){const e=(0,S.oR)(z),t=(0,i.Fl)((()=>{const t=e.state.draggableColumnId;return-1!==t&&t!==n.column.id}));return{draggableColumnId:(0,i.Fl)((()=>e.state.draggableColumnId)),hoverColumnId:(0,i.Fl)((()=>e.state.hoverColumnId)),dropColumnActive:t}}});const F=(0,C.Z)(E,[["render",g],["__scopeId","data-v-18c43259"]]);var L=F,Y=(0,i.aZ)({name:"KanBan",components:{DraggableColumn:L},setup(){const n=(0,S.oR)(z);let e=null,t=null,o=0,r=0;const s=(n,e)=>{const t=document.querySelectorAll(".dropzone");for(let o=0;o<t.length;o++){const i=t[o].getBoundingClientRect();if(n>i.left&&n<i.right&&e>i.top&&e<i.bottom)return t[o]}},a=t=>{if(e=t?.target.closest(".draggable"),e){const i=+e.id,s=n.state.columns.find((n=>n.tasks.some((n=>n.id===i)))),a=s?s.id:-1;n.commit("setDraggableTaskId",i),n.commit("setDraggableColumnId",a);const c=e.getBoundingClientRect();o=t.clientX-c.x,r=t.clientY-c.y,e.classList.add("drag"),e.style.width=c.width.toFixed()+"px",e.style.height=c.height.toFixed()+"px",e.style.left=t.clientX-o+"px",e.style.top=t.clientY-r+"px",e.style.position="fixed",e.style.zIndex="999",document.addEventListener("mousemove",d),document.addEventListener("mouseup",l)}},d=i=>{e&&(e.style.left=i.clientX-o+"px",e.style.top=i.clientY-r+"px");const a=s(i.clientX,i.clientY);a!==t&&(a&&n.commit("setHoverColumnId",+a.id),t&&n.commit("setHoverColumnId",-1),t=a??null)},l=t=>{const o=s(t.clientX,t.clientY);o&&n.commit("transferTask",+o.id),n.commit("clearDraggbleInfo"),e&&e.setAttribute("style",""),e=null,document.removeEventListener("mouseup",l),document.removeEventListener("mousemove",d)};return(0,i.bv)((()=>{document.addEventListener("mousedown",a)})),(0,i.Ah)((()=>{document.removeEventListener("mousedown",a)})),{columns:(0,i.Fl)((()=>n.state.columns))}}});const A=(0,C.Z)(Y,[["render",a],["__scopeId","data-v-3024631f"]]);var H=A,K=(0,i.aZ)({name:"App",components:{Kanban:H}});const R=(0,C.Z)(K,[["render",r]]);var X=R;(0,o.ri)(X).use(Z,z).mount("#app")}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return n[o](r,r.exports,t),r.exports}t.m=n,function(){var n=[];t.O=function(e,o,i,r){if(!o){var s=1/0;for(c=0;c<n.length;c++){o=n[c][0],i=n[c][1],r=n[c][2];for(var a=!0,d=0;d<o.length;d++)(!1&r||s>=r)&&Object.keys(t.O).every((function(n){return t.O[n](o[d])}))?o.splice(d--,1):(a=!1,r<s&&(s=r));if(a){n.splice(c--,1);var l=i();void 0!==l&&(e=l)}}return e}r=r||0;for(var c=n.length;c>0&&n[c-1][2]>r;c--)n[c]=n[c-1];n[c]=[o,i,r]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],d=o[2],l=0;if(s.some((function(e){return 0!==n[e]}))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(d)var c=d(t)}for(e&&e(o);l<s.length;l++)r=s[l],t.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return t.O(c)},o=self["webpackChunkkanboard"]=self["webpackChunkkanboard"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(9077)}));o=t.O(o)})();
//# sourceMappingURL=app.118d2639.js.map